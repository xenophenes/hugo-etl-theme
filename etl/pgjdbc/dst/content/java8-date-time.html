---
title: "Using Java 8 Date and Time classes"
draft: false
hidden: true
---
<div id="docContainerWrap">
 <div id="docContainer">
  <div id="docContent">
   <!-- NAVHEADER -->
   <div class="CHAPTER">
    <p>
     The PostgreSQL  JDBC driver implements native support for the
     <a href="http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html">
      Java 8 Date and Time API
     </a>
     (JSR-310) using JDBC 4.2.
    </p>
    <p>
     <a name="8-date-time-supported-data-types">
     </a>
     <strong>
      Table 5.1. Supported Java 8 Date and Time classes
     </strong>
    </p>
    <table border="1" class="CALSTABLE" summary="Supported data type">
     <tr>
      <th>
       PostgreSQL 
      </th>
      <th>
       Java SE 8
      </th>
     </tr>
     <tbody>
      <tr>
       <td>
        DATE
       </td>
       <td>
        LocalDate
       </td>
      </tr>
      <tr>
       <td>
        TIME [ WITHOUT TIME ZONE ]
       </td>
       <td>
        LocalTime
       </td>
      </tr>
      <tr>
       <td>
        TIMESTAMP [ WITHOUT TIME ZONE ]
       </td>
       <td>
        LocalDateTime
       </td>
      </tr>
      <tr>
       <td>
        TIMESTAMP WITH TIME ZONE
       </td>
       <td>
        OffsetDateTime
       </td>
      </tr>
     </tbody>
    </table>
    <p>
     This is closely aligned with tables B-4 and B-5 of the JDBC 4.2 specification.
Note that
     <code>
      ZonedDateTime
     </code>
     ,
     <code>
      Instant
     </code>
     and
     <code>
      OffsetTime / TIME WITH TIME ZONE
     </code>
     are not supported. Also note
that all
     <code>
      OffsetDateTime
     </code>
     instances will have be in UTC (have offset 0).
This is because the backend stores them as UTC.
    </p>
    <p>
     <a name="reading-example">
     </a>
     <strong>
      Example 5.2. Reading Java 8 Date and Time values using JDBC
     </strong>
    </p>
    <div class="highlight">
     <pre><code class="language-java" data-lang="java"><span></span><span class="n">Statement</span> <span class="n">st</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
<span class="n">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="s">"SELECT * FROM mytable WHERE columnfoo = 500"</span><span class="o">);</span>
<span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span>
<span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Column 1 returned "</span><span class="o">);</span>
    <span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">localDate</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="n">st</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</code></pre>
    </div>
    <p>
     For other data types simply pass other classes to
     <code>
      #getObject
     </code>
     .
Note that the Java data types needs to match the SQL data types in table 7.1.
    </p>
    <p>
     <a name="writing-example">
     </a>
     <strong>
      Example 5.3. Writing Java 8 Date and Time values using JDBC
     </strong>
    </p>
    <div class="highlight">
     <pre><code class="language-java" data-lang="java"><span></span><span class="n">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="n">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="n">PreparedStatement</span> <span class="n">st</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="s">"INSERT INTO mytable (columnfoo) VALUES (?)"</span><span class="o">);</span>
<span class="n">st</span><span class="o">.</span><span class="na">setObject</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">localDate</span><span class="o">);</span>
<span class="n">st</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
<span class="n">st</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</code></pre>
    </div>
   </div>
   <!-- NAVFOOTER -->
  </div>
  <!-- docContent -->
  <div id="docComments">
  </div>
  <!-- pgFooter -->
 </div>
 <!-- docContainer -->
</div>
<!-- docContainer -->
