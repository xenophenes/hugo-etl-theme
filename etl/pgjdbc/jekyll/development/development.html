<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">
<head>
	<title>PostgreSQL JDBC Development</title>
	<meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
	<meta name="description" content="The official site for the PostgreSQL JDBC Driver" />
	<meta name="copyright" content="The PostgreSQL Global Development Group" />

	<style type="text/css" media="screen" title="Normal Text">@import url("../media/css/base.css");</style>

	<link rel="shortcut icon" href="../media/favicon.ico" />

	<!--
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-1345454-1']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
	</script>
	-->
</head>

<body>
	<div id="pgContainerWrap">
		<div id="pgContainer">

			<span class="txtOffScreen"><a href="#pgContent" title="Skip site navigation" accesskey="1">Skip site navigation</a> (1)</span>
			<span class="txtOffScreen"><a href="#pgContentWrap" title="Skip section navigation" accesskey="2">Skip section navigation</a> (2)</span>

			<div id="pgHeaderContainer">

				<div id="pgSearch">

					<!-- Old pgjdbc form -->
					<form action="https://www.google.com/search" method="get">
						<input value="jdbc.postgresql.org" name="sitesearch" type="hidden" />
						<input id="q" name="q" type="text" size="20" maxlength="255" onfocus="if( this.value==this.defaultValue ) this.value='';" value="Google Search" accesskey="s" />
						<!-- <input onFocus="getBlank (this, 'Search the site with google');" size="25" name="q" id="query" type="text" value="Search the site with google">&nbsp; -->
                    				<input name="Search" value="Search" type="submit" />
					</form>

					<!-- New PostgreSQL form
					<form method="get" action="search/">
					<div>
						<h2 class="pgBlockHide"><label for="q">Search</label></h2>
						<input id="q" name="q" type="text" size="20" maxlength="255" onfocus="if( this.value==this.defaultValue ) this.value='';" value="Search" accesskey="s" />
						<input name="a" type="hidden" value="1"/>
						<input id="submit" name="submit" type="submit" value="Search" />
					</div>
					</form>
					-->

				</div> <!-- pgSearch -->
				<br />

				<div id="pgHeader">
					<div id="pgHeaderLogoLeft">
						<img alt="PostgreSQL" height="80" width="390" src="../media/img/layout/hdr_left3.png" usemap="#maplinks" />
						<map name="maplinks">
							<area shape="rect" coords="0,0,231,80" alt="PostgreSQL" href="https://postgresql.org" />
							<area shape="rect" coords="232,0,390,80" alt="PostgreSQL JDBC Driver" href="https://jdbc.postgresql.org" />
						</map>
					</div>
					<div id="pgHeaderLogoRight">
						<a href="https://postgresql.org">
							<img width="210" height="80" alt="The world's most advanced open source database." src="../media/img/layout/hdr_right.png" />
						</a>
					</div>
				</div> <!-- pgHeader -->

				<div id="pgTopNav">
					<div id="pgTopNavLeft">
						<img width="7" style="height: 100%;" alt="" src="../media/img/layout/nav_lft.png" />
					</div>
					<div id="pgTopNavRight">
						<img width="7" style="height: 100%;" alt="" src="../media/img/layout/nav_rgt.png" />
					</div>
					<ul id="pgTopNavList">
						<li><a href="../index.html" title="Home">Home</a></li>
						<li><a href="../about/about.html" title="About">About</a></li>
						<li><a href="../download.html" title="Download">Download</a></li>
						<li><a href="../documentation/documentation.html" title="Documentation">Documentation</a></li>
						<li><a href="../community/community.html" title="Community">Community</a></li>
						<li><a href="../development/development.html" title="Development">Development</a></li>
					</ul>
				</div> <!-- pgTopNav -->
			</div> <!-- pgHeaderContainer -->

			<div id="pgContent">
				<div id="pgSideWrap">
					<div id="pgSideNav">
						<ul>
							<li><a href="development.html">Development</a></li>
							<li><a href="git.html">GIT</a></li>
							<li><a href="translations.html">Translations</a></li>
							<li><a href="website.html">Website</a></li>
							<li><a href="todo.html">Todo</a></li>
							<li><a href="privateapi/index.html">Private API</a></li>
						</ul>
					</div> <!-- pgSideNam -->
				</div> <!-- pgSideWrap -->

				<div id="pgContentWrap">
					<h1>Development</h1>
					<hr />
					<div>
						<ul>
							<li><a href="#About_the_Driver">About the Driver</a></li>
							<li><a href="#Tools">Tools</a></li>
							<li><a href="#Build_Process">Build Process</a></li>
							<li><a href="#Test_Suite">Test Suite</a></li>
						</ul>
					</div>
					<hr /> 

					<a name="About_the_Driver"></a>
					<h2 class="underlined_10">About the Driver</h2>
					<div>
						<p>
							The PostgreSQL JDBC driver has some unique properties that you
							should be aware of before starting to develop any code for it.
							The current development driver supports eleven server versions and
							three java environments. This doesn't mean that every feature must
							work in every combination, but a reasonable behaviour must be
							provided for non-supported versions.  While this extra compatibility
							sounds like a lot of work, the actual goal is to reduce the amount
							of work by maintaining only one code base.
						</p>
					</div>
					<hr />

					<a name="Tools"></a>
					<h2 class="underlined_10">Tools</h2>
					<div>
						<p>
							The following tools are required to build and test the driver:
						</p>
						<ul>
							<li><a href="https://java.oracle.com" target="_blank">Java 6 Standard Edition Development Kit</a> At least JDK 1.6</li>
							<li><a href="https://maven.apache.org" target="_blank">Apache Maven</a> At least 3.1.1</li>
							<li><a href="https://git-scm.com" target="_blank">Git SCM</a></li>
							<li><a href="https://www.postgresql.org" target="_blank">A PostgreSQL instance</a> to run the tests.</li>
						</ul>
					</div>
					<hr />

					<a name="Build_Process"></a>
					<h2 class="underlined_10">Build Process</h2>
					<div>
						<p>
							After retrieving the source from the <a href="../development/git.html">git repository</a>.
							Move into the top level <span style="font-family: Courier New,Courier,monospace;">pgjdbc</span> directory and simply
							type <span style="font-family: Courier New,Courier,monospace;">mvn package -DskipTests</span>.  This will build the appropriate driver for
							your current Java version and place it into <span style="font-family: Courier New,Courier,monospace;">target/postgresql-${version}.jar</span>.
						</p>
					</div>
					<hr />

					<a name="Test_Suite"></a>
					<h2 class="underlined_10">Test Suite</h2>
					<div>
						<p>
							To make sure the driver is working as expected there are a set of
							JUnit tests that should be run.  These require a database to run
							against that has the plpgsql procedural language installed.  The
							default parameters for username and database are "test", and for
							password it's "test".
							so a sample interaction to set this up would look the following, if
							you enter "password" when asked for it:
						</p>
						<pre style="font-family: serif;">
postgres@host:~$ createuser -d -A test -P
Enter password for user "test": 
Enter it again: 
CREATE USER

postgres@host:~$ createdb -U test test
CREATE DATABASE

postgres@host:~$ createlang plpgsql test
						</pre>
						<p>
							Now we're ready to run the tests, we simply type <span style="font-family: Courier New,Courier,monospace;">mvn clean package</span>,
							and it should be off and running.  To use non default values to run
							the regression tests, you can create a <span style="font-family: Courier New,Courier,monospace;">build.local.properties</span>
							in the top level directory. This properties file allows you to set
							values for host, database, user, password, and port with the standard
							properties "key = value" usage.  The ability to set the port value
							makes it easy to run the tests against a number of different server
							versions on the same machine.
						</p>
					</div>
				</div> <!-- pgContentWrap -->


				<br class="pgClearBoth" />
			</div> <!-- pgContent -->
			<hr />

			<div id="pgFooter">
				<a class="navFooter" href="https://www.postgresql.org/about/privacypolicy">Privacy Policy</a> |
				<a class="navFooter" href="https://www.postgresql.org/about/">About PostgreSQL</a><br/>
				Copyright &copy; 1996-2018 The PostgreSQL Global Development Group
			</div> <!-- pgFooter -->
		</div> <!-- pgContainer -->
	</div> <!-- pgContainerWrap -->
</body>
</html>
