<p><strong>Notable changes</strong></p>

<h3>Added</h3>

<ul>
<li>Replication protocol API was added: <a href="https://jdbc.postgresql.org//documentation/head/replication.html">replication API documentation</a>. <a href="https://github.com/pgjdbc/pgjdbc/pull/550">PR 550</a></li>
<li>java.util.logging is now used for logging: <a href="https://jdbc.postgresql.org//documentation/head/logging.html">logging documentation</a>. <a href="https://github.com/pgjdbc/pgjdbc/pull/722">PR 722</a></li>
<li>Add support for PreparedStatement.setCharacterStream(int, Reader). <a href="https://github.com/pgjdbc/pgjdbc/commit/ee4c4265aebc1c73a1d1fabac5ba259d1fbfd1e4">ee4c4265</a></li>
</ul>

<h3>Changed</h3>

<ul>
<li>Version bumped to 42.0.0 to avoid version clash with PostgreSQL version and follow a better sematic versioning. <a href="https://github.com/pgjdbc/pgjdbc/commit/466349236622c6b03bb9cd8d7f517c3ce0586751">46634923</a></li>
<li>Ensure executeBatch() can be used with pgbouncer. Previously pgjdbc could use server-prepared statements for batch execution even with prepareThreshold=0. <a href="https://github.com/pgjdbc/pgjdbc/issues/742">Issue 742</a></li>
<li>Error position is displayed when SQL has unterminated literals, comments, etc. <a href="https://github.com/pgjdbc/pgjdbc/issues/688">Issue 688</a></li>
<li>Strict handling of accepted values in getBoolean and setObject(BOOLEAN), now it follows PostgreSQL accepted values, only 1 and 0 for numeric types are acepted (previusly !=0 was true). <a href="https://github.com/pgjdbc/pgjdbc/pull/732">PR 732</a></li>
<li>Return correct versions and name of the driver. <a href="https://github.com/pgjdbc/pgjdbc/pull/668">PR 668</a></li>
</ul>

<h3>Removed</h3>

<ul>
<li>Support for PostgreSQL versions below 8.2 was dropped. <a href="https://github.com/pgjdbc/pgjdbc/pull/661">PR 661</a></li>
</ul>

<h3>Deprecated</h3>

<ul>
<li>Deprecated PGPoolingDataSource, instead of this class you should use a fully featured connection pool like HikariCP, vibur-dbcp, commons-dbcp, c3p0, etc. <a href="https://github.com/pgjdbc/pgjdbc/pull/739">PR 739</a></li>
</ul>

<h3>Regressions</h3>

<ul>
<li>Data truncated in setCharacterStream. Fixed in 42.1.0</li>
<li>No suitable driver found for jdbc:postgresql when using a DataSource implementation. Fixed in 42.1.0</li>
</ul>

<p><br>
You may have noticed the change in the versioning of the driver, you can <a href="documentation/faq.html#versioning">read the FAQ</a> for more information.</p>

<!--more-->

<p><strong>Commits by author</strong></p>

<p>AlexElin (6):</p>

<ul>
<li>refactor: use varargs <a href="https://github.com/pgjdbc/pgjdbc/pull/681">PR 681</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/50b7fe0fe901ee24160615bebd4b86603b960b86">50b7fe0f</a></li>
<li>refactor: make HostChooser implement Iterable <a href="https://github.com/pgjdbc/pgjdbc/pull/645">PR 645</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/3d37db78ae4a82cab8809bac86e3b55537e91d95">3d37db78</a></li>
<li>refactor: migrate to Junit4 <a href="https://github.com/pgjdbc/pgjdbc/pull/682">PR 682</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/f4a067cc5d32dde2698a062d6f9855d50fa3127d">f4a067cc</a></li>
<li>refactor: remove deprecated Utils&#39; methods <a href="https://github.com/pgjdbc/pgjdbc/pull/678">PR 678</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/0275d40f6f2b8b30faef8aed31761e1ff7a0ed90">0275d40f</a></li>
<li>refactor: migrate tests to junit4 <a href="https://github.com/pgjdbc/pgjdbc/pull/685">PR 685</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/faab499853c56f67cb70fb242f75b918452f2a6f">faab4998</a></li>
<li>refactor: remove checks for jdk version 1.4 (tests) <a href="https://github.com/pgjdbc/pgjdbc/pull/737">PR 737</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/ee51dfce99dcd922b66373cd0c69c83bf339dbdb">ee51dfce</a></li>
</ul>

<p>Eric McCormack (1):</p>

<ul>
<li>fix: accept server version with more than 3 parts <a href="https://github.com/pgjdbc/pgjdbc/pull/741">PR 741</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/8437f6c1c76c3560331d75c4332ab50959d57228">8437f6c1</a></li>
</ul>

<p>Jordan Lewis (1):</p>

<ul>
<li>feat: do not use pg_depend against PostgreSQL 9.0+ <a href="https://github.com/pgjdbc/pgjdbc/pull/689">PR 689</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/62e25fba70002d7639472c5a1dcd9d1de5b7f872">62e25fba</a></li>
</ul>

<p>Jorge Solorzano (22):</p>

<ul>
<li>refactor: remove support for postgresql &lt; 8.2 <a href="https://github.com/pgjdbc/pgjdbc/pull/661">PR 661</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/14e64be7dc43feaef210e82fcd9b6089e54e5e4f">14e64be7</a></li>
<li>fix: add query to support postgresql 8.2 without t.typarray <a href="https://github.com/pgjdbc/pgjdbc/pull/699">PR 699</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/cb3995b5a0311a2f5f7737fdfe83457680305efb">cb3995b5</a></li>
<li>test: add CI tests against PostgreSQL 8.3 <a href="https://github.com/pgjdbc/pgjdbc/pull/710">PR 710</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/436365b095d0a276b876433fd00d9bbac72708cc">436365b0</a></li>
<li>fix: robust castToBoolean for setObject in PreparedStatement <a href="https://github.com/pgjdbc/pgjdbc/pull/714">PR 714</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/edc2a14af8837911a48bb322363bb8b70d2b173d">edc2a14a</a></li>
<li>refactor: remove unused V2ReplicationProtocol.java <a href="https://github.com/pgjdbc/pgjdbc/pull/718">PR 718</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/7881e41ea93f3bd6a3f58e85cb4329f77b667db0">7881e41e</a></li>
<li>test: ignore tests that don&#39;t apply to Pg8.2 and Pg8.3 <a href="https://github.com/pgjdbc/pgjdbc/pull/703">PR 703</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/3bc0951e84ad3b7af746e2dece04b4ea816605e2">3bc0951e</a></li>
<li>style: reorder checkstyle in travis <a href="https://github.com/pgjdbc/pgjdbc/pull/721">PR 721</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/ba812fb404852b73a304f7ccb068a2030b8604b3">ba812fb4</a></li>
<li>refactor: remove charset property not used <a href="https://github.com/pgjdbc/pgjdbc/pull/709">PR 709</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/f6fd5a5abea1efe9b987825b7874ffd962772197">f6fd5a5a</a></li>
<li>fix: huntbugs on PgDatabaseMetaData, String concatenation in a loop <a href="https://github.com/pgjdbc/pgjdbc/pull/693">PR 693</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/3a00ef9436c6b04c472330802a8adb22adaa9b63">3a00ef94</a></li>
<li>refactor: fix getDriverVersion, getDriverName and getJDBCMajor/MinorVersion methods <a href="https://github.com/pgjdbc/pgjdbc/pull/668">PR 668</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/aa9743417f18a10a1a7c7a4bc25ad2862155ddc8">aa974341</a></li>
<li>docs: reword supported versions, include datasources section, compare versions <a href="https://github.com/pgjdbc/pgjdbc/pull/673">PR 673</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/b2cdd057664a00928d97290ed7435fcf57f3a360">b2cdd057</a></li>
<li>test: fix test replication on PG_HEAD <a href="https://github.com/pgjdbc/pgjdbc/pull/734">PR 734</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/3b406a18a7c1751aa477e8378ee8cad0a60efd1e">3b406a18</a></li>
<li>refactor: deprecated PGPoolingDataSource <a href="https://github.com/pgjdbc/pgjdbc/pull/739">PR 739</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/55e2cd16cc7e30b1370e777d71556aa625bace9f">55e2cd16</a></li>
<li>fix: strict handling of getBoolean and setObject with postgres accepted values <a href="https://github.com/pgjdbc/pgjdbc/pull/732">PR 732</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/4942f7d1cc812feeeca331878334a3d4058615e4">4942f7d1</a></li>
<li>docs: move docs from www/documentation/head <a href="https://github.com/pgjdbc/pgjdbc/pull/744">PR 744</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/70e23c45c904ebded42ab1b5efc10d66f34ab68c">70e23c45</a></li>
<li>test: fix replication test in Pg10 <a href="https://github.com/pgjdbc/pgjdbc/pull/746">PR 746</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/63ed2129f7aa4375d009f19c64dc2404e725aabb">63ed2129</a></li>
<li>feat: use java.util.logging <a href="https://github.com/pgjdbc/pgjdbc/pull/722">PR 722</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/43e6505e3aa16e6acdf08f02f2dd1e3cf131ac3e">43e6505e</a></li>
<li>perf: short circuit Oid.BOOL in getBoolean <a href="https://github.com/pgjdbc/pgjdbc/pull/745">PR 745</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/e69e4a1d5502319bc810e0e4529611ba52ea386c">e69e4a1d</a></li>
<li>fix: add isLoggable around parameterized logger <a href="https://github.com/pgjdbc/pgjdbc/pull/752">PR 752</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/8b50cfe58c47d19adc0c241488a24037f4a4416f">8b50cfe5</a></li>
<li>docs: move www repository to pgjdbc/docs <a href="https://github.com/pgjdbc/pgjdbc/commit/d4e99198336bf41fc7f3fe9c0746036d5477601c">d4e99198</a></li>
<li>add syntax highlight to documentation <a href="https://github.com/pgjdbc/pgjdbc/commit/8c035adeb820c8a19e372f0b76a70e511b657cad">8c035ade</a></li>
<li>add more style <a href="https://github.com/pgjdbc/pgjdbc/commit/9c510e65f573354a47b7e94553870231e8dc2935">9c510e65</a></li>
</ul>

<p>Pavel Raiskup (3):</p>

<ul>
<li>fix: sync with latest Fedora <a href="https://github.com/pgjdbc/pgjdbc/pull/637">PR 637</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/a29ad80bcfdd65d11257f6339eb6bf2512612eed">a29ad80b</a></li>
<li>packaging: rpm: update srpm generator <a href="https://github.com/pgjdbc/pgjdbc/commit/5c3c92392d66608ed7d9d1f96eb5b380e2667cd9">5c3c9239</a></li>
<li>packaging: rpm_ci: use curl -L to download rawhide logs <a href="https://github.com/pgjdbc/pgjdbc/commit/c8125cff3ae719675983185d49cd49e6c028d7b7">c8125cff</a></li>
</ul>

<p>Philippe Marschall (3):</p>

<ul>
<li>refactor: clean up PgDatabaseMetaData <a href="https://github.com/pgjdbc/pgjdbc/pull/692">PR 692</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/d32b077e20b2afae9c4c80f704f7c8a26a8b8e11">d32b077e</a></li>
<li>refactor: delete Keyword enum <a href="https://github.com/pgjdbc/pgjdbc/pull/697">PR 697</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/677e3c4cf2533ce283a2d444cee6da8a94a4ca82">677e3c4c</a></li>
<li>feat: support microsecond resolution for JSR-310 types <a href="https://github.com/pgjdbc/pgjdbc/pull/691">PR 691</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/6b3a1efb36709e570caf0dc71a42a53e89f5a5e0">6b3a1efb</a></li>
</ul>

<p>Roman Ivanov (2):</p>

<ul>
<li>config: move version of checkstyle to property <a href="https://github.com/pgjdbc/pgjdbc/pull/723">PR 723</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/9ef7d6f1f274a75a14b380c57f4c140b47b25888">9ef7d6f1</a></li>
<li>chore: upgrade checkstyle to 7.4, make checkstyle version configurable via property <a href="https://github.com/pgjdbc/pgjdbc/pull/725">PR 725</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/e1a2578247684667a51bc34ee53449e4457755df">e1a25782</a></li>
</ul>

<p>Steve Ungerer (1):</p>

<ul>
<li>fix: ensure executeBatch() does not use server-side prepared statements when prepareThreshold=0 <a href="https://github.com/pgjdbc/pgjdbc/pull/690">PR 690</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/aca26a07026e9b289a209799ab28131a33b296dd">aca26a07</a></li>
</ul>

<p>Trygve Laugstøl (1):</p>

<ul>
<li>feat: connect the socket only if the socket factory created an unconnected socket <a href="https://github.com/pgjdbc/pgjdbc/pull/587">PR 587</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/f75572beb8b59a7a73f6e1d12d692b483dc04c85">f75572be</a></li>
</ul>

<p>Vladimir Gordiychuk (4):</p>

<ul>
<li>bug: fix not enscaped special symbol that fail build <a href="https://github.com/pgjdbc/pgjdbc/pull/686">PR 686</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/b4604cd7de0c297c8b56608642055ed6eb3645e0">b4604cd7</a></li>
<li>feat: add replication protocol API <a href="https://github.com/pgjdbc/pgjdbc/pull/550">PR 550</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/f48c6bb7e726479bbf4be4ef95e4c138db5cac96">f48c6bb7</a></li>
<li>test: fix drop replication slot on 9.4 for tests <a href="https://github.com/pgjdbc/pgjdbc/pull/696">PR 696</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/c1c48bd705f04e8d1b1cb8b998dda0a6893f891d">c1c48bd7</a></li>
<li>chore: Gather backtrace from core dump on CI <a href="https://github.com/pgjdbc/pgjdbc/pull/736">PR 736</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/da5e4ef1cbc4a5c9f41e9aee8d183560ba679541">da5e4ef1</a></li>
</ul>

<p>Vladimir Sitnikov (12):</p>

<ul>
<li>fedora: add BuildRequires: classloader-leak-test-framework <a href="https://github.com/pgjdbc/pgjdbc/commit/64b6750cbd49ca8a9f0596bed1876132b64c34d4">64b6750c</a></li>
<li>tests: remove Class.forName(..driver..) from test code <a href="https://github.com/pgjdbc/pgjdbc/commit/c99507b5661804b5b1b2340ba747fe553dc37a68">c99507b5</a></li>
<li>test: add CI tests against PostgreSQL 8.2 <a href="https://github.com/pgjdbc/pgjdbc/pull/659">PR 659</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/63ee60e2ad93441ff55dab08213cc09815b614e0">63ee60e2</a></li>
<li>feat: display error position when SQL has unterminated literals, comments, etc <a href="https://github.com/pgjdbc/pgjdbc/pull/688">PR 688</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/8a95d991e2032cf0406be8e54e70cfafaad794b5">8a95d991</a></li>
<li>feat: add support for PreparedStatement.setCharacterStream(int, Reader) <a href="https://github.com/pgjdbc/pgjdbc/pull/671">PR 671</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/ee4c4265aebc1c73a1d1fabac5ba259d1fbfd1e4">ee4c4265</a></li>
<li>chore: update next version to 42.0.0-SNAPSHOT <a href="https://github.com/pgjdbc/pgjdbc/commit/466349236622c6b03bb9cd8d7f517c3ce0586751">46634923</a></li>
<li>refactor: add CallableQueryKey#equals override <a href="https://github.com/pgjdbc/pgjdbc/commit/401c51a15d80d2f24cddbe5cd4b2ca7509a0a765">401c51a1</a></li>
<li>doc: correct wording in readme regarding PostgreSQL versions used in pgjdbc regression testing <a href="https://github.com/pgjdbc/pgjdbc/commit/60391d7559d6ee4e579ec2e36d7aa8199a99189d">60391d75</a></li>
<li>fix: revert ExpressionProperties to Properties in BaseDataSource <a href="https://github.com/pgjdbc/pgjdbc/commit/989b4d235ec6776f31284d15618195cf7f8a7a79">989b4d23</a></li>
<li>fix: correct edge cases for setCharacterStream(int, Reader) <a href="https://github.com/pgjdbc/pgjdbc/commit/f1190d8c2eb1c506616e2298aabad211ba3bdb0a">f1190d8c</a></li>
<li>test: add SharedTimerClassLoaderLeakTest to the regular test suite <a href="https://github.com/pgjdbc/pgjdbc/commit/b3553276ad48cbb47cd4849d3a08b7ee61be8ace">b3553276</a></li>
<li>refactor: wrap more log statements with isLoggable check <a href="https://github.com/pgjdbc/pgjdbc/commit/07d225ec1028d945533d5023702b3865aee54ad6">07d225ec</a></li>
</ul>

<p>bd-infor (1):</p>

<ul>
<li>docs: clarify handling of loglevel <a href="https://github.com/pgjdbc/pgjdbc/pull/711">PR 711</a> <a href="https://github.com/pgjdbc/pgjdbc/commit/6334bac036efaa4a9f2a445f1cbdcc310f4c6263">6334bac0</a></li>
</ul>

<p><a name="contributors_42.0.0"></a></p>

<h3>Contributors to this release</h3>

<p>We thank the following people for their contributions to this release.</p>

<p><a href="https://github.com/AlexElin">AlexElin</a><br>
<a href="https://github.com/bd-infor">bd-infor</a><br>
<a href="https://github.com/ericmack">Eric McCormack</a><br>
<a href="https://github.com/jordanlewis">Jordan Lewis</a><br>
<a href="https://github.com/jorsol">Jorge Solorzano</a><br>
<a href="https://github.com/praiskup">Pavel Raiskup</a><br>
<a href="https://github.com/marschall">Philippe Marschall</a><br>
<a href="https://github.com/romani">Roman Ivanov</a><br>
<a href="https://github.com/scubasau">Steve Ungerer</a><br>
<a href="https://github.com/trygvis">Trygve Laugstøl</a><br>
<a href="https://github.com/Gordiychuk">Vladimir Gordiychuk</a><br>
<a href="https://github.com/vlsi">Vladimir Sitnikov</a>  </p>
